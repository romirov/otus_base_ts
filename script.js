(()=>{"use strict";class t{date=Date.now();category="";subcategory="";description="";amount=0;constructor(t,e,n,a,i){void 0!==t&&(this.date=Date.parse(t)),void 0!==e&&(this.category=e),void 0!==n&&(this.subcategory=n),void 0!==a&&(this.description=a),void 0!==i&&(this.amount=Number(i))}}const e=[],n=()=>{const n=document.getElementById("dateInput")?.innerHTML,a=document.getElementById("categoryInput")?.innerHTML,i=document.getElementById("subcategoryInput")?.innerHTML,o=document.getElementById("descriptionInput")?.innerHTML,u=document.getElementById("amountInput")?.innerHTML,d=new t(n,a,i,o,u);e.push(d)};class a{category="";amount=0;constructor(t,e,n){this.date=t,this.amount=n,this.category=e}}function i(){const t=document.getElementById("dateStartInput")?.innerHTML,n=document.getElementById("dateEndInput")?.innerHTML,i=[];if(void 0!==t&&void 0!==n){const o=Date.parse(t),u=Date.parse(n);e.forEach((t=>{t.date>=o&&t.date<=u&&i.push(new a(t.date,t.category,t.amount))}))}return i}function o(t){const e=t.target.id,n=[];let o=i();o.length>0&&o.forEach((t=>{const i=o.filter((n=>"submitRateByDateBtn"===e&&n.date===t.date||"submitRateByDateAndCategoryBtn"===e&&n.category===t.category)).map((t=>t.amount));o=o.filter((n=>"submitRateByDateBtn"===e&&n.date!==t.date||"submitRateByDateAndCategoryBtn"===e&&n.category!==t.category));const u=i.reduce(((t,e)=>t+e),0);"submitRateByDateBtn"===e&&n.push(new a(t.date,"",u)),"submitRateByDateAndCategoryBtn"===e&&n.push(new a(0,t.category,u))}))}function u(t){const e=t.target.id,n=[];let o=i();o.length>0&&o.forEach((t=>{const i=o.filter((n=>"sortCategoryByAmount"===e&&n.category===t.category)).map((t=>t.amount));o=o.filter((n=>"sortCategoryByAmount"===e&&n.category!==t.category));const u=i.reduce(((t,e)=>t+e),0);n.push(new a(0,t.category,u)),n.sort(((t,e)=>t.amount>e.amount?-1:1))}))}const d=document.getElementById("given");!function(){const t=document.createElement("form"),e=document.createElement("input");e.setAttribute("type","date"),e.setAttribute("id","dateInput");const a=document.createElement("input");a.setAttribute("type","text"),a.setAttribute("id","categoryInput");const i=document.createElement("input");i.setAttribute("type","text"),i.setAttribute("id","subcategoryInput");const r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("id","descriptionInput");const c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("id","amountInput");const s=document.createElement("button");s.setAttribute("type","submit"),s.setAttribute("id","submitExpenditureForm"),s.addEventListener("click",n),t.appendChild(e),t.appendChild(a),t.appendChild(i),t.appendChild(r),t.appendChild(c),t.appendChild(s);const m=document.createElement("form"),p=document.createElement("input");p.setAttribute("type","date"),p.setAttribute("id","dateStartInput");const y=document.createElement("input");y.setAttribute("type","date"),y.setAttribute("id","dateEndInput");const l=document.createElement("button");s.setAttribute("type","submit"),s.setAttribute("id","submitRateByDateAndCategoryBtn"),s.addEventListener("click",o);const b=document.createElement("button");s.setAttribute("type","submit"),s.setAttribute("id","submitRateByDateBtn"),s.addEventListener("click",o);const g=document.createElement("button");s.setAttribute("type","submit"),s.setAttribute("id","submitSortCategoryByAmountBtn"),s.addEventListener("click",u),m.appendChild(p),m.appendChild(y),m.appendChild(l),m.appendChild(b),m.appendChild(g),d?.appendChild(t),d?.appendChild(m)}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TSx5QkFDN0JDLEVBQVVDLGlCQUFpQixRQUFTNUMsR0FFcEN3QyxFQUFnQkssWUFBWTVDLEdBQzVCdUMsRUFBZ0JLLFlBQVl4QyxHQUM1Qm1DLEVBQWdCSyxZQUFZdkMsR0FDNUJrQyxFQUFnQkssWUFBWXRDLEdBQzVCaUMsRUFBZ0JLLFlBQVlyQyxHQUM1QmdDLEVBQWdCSyxZQUFZRixHQUU1QixNQUFNRyxFQUFhNUMsU0FBU3VDLGNBQWMsUUFDcENNLEVBQWlCN0MsU0FBU3VDLGNBQWMsU0FDOUNNLEVBQWVMLGFBQWEsT0FBUSxRQUNwQ0ssRUFBZUwsYUFBYSxLQUFNLGtCQUVsQyxNQUFNTSxFQUFlOUMsU0FBU3VDLGNBQWMsU0FDNUNPLEVBQWFOLGFBQWEsT0FBUSxRQUNsQ00sRUFBYU4sYUFBYSxLQUFNLGdCQUVoQyxNQUFNTyxFQUFpQy9DLFNBQVN1QyxjQUFjLFVBQzlERSxFQUFVRCxhQUFhLE9BQVEsVUFDL0JDLEVBQVVELGFBQWEsS0FBTSxrQ0FDN0JDLEVBQVVDLGlCQUFpQixRQUFTeEIsR0FHcEMsTUFBTThCLEVBQXNCaEQsU0FBU3VDLGNBQWMsVUFDbkRFLEVBQVVELGFBQWEsT0FBUSxVQUMvQkMsRUFBVUQsYUFBYSxLQUFNLHVCQUM3QkMsRUFBVUMsaUJBQWlCLFFBQVN4QixHQUVwQyxNQUFNK0IsRUFBZ0NqRCxTQUFTdUMsY0FBYyxVQUM3REUsRUFBVUQsYUFBYSxPQUFRLFVBQy9CQyxFQUFVRCxhQUFhLEtBQU0saUNBQzdCQyxFQUFVQyxpQkFBaUIsUUFBU1QsR0FFcENXLEVBQVdELFlBQVlFLEdBQ3ZCRCxFQUFXRCxZQUFZRyxHQUN2QkYsRUFBV0QsWUFBWUksR0FDdkJILEVBQVdELFlBQVlLLEdBQ3ZCSixFQUFXRCxZQUFZTSxHQUV2QlosR0FBT00sWUFBWUwsR0FDbkJELEdBQU9NLFlBQVlDLEVBQ3JCLENDeEVBTSxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3R1c19iYXNlX3RzLy4vc3JjL3R5cGVzL0NoZWNrLnRzIiwid2VicGFjazovL290dXNfYmFzZV90cy8uL3NyYy9DcmVhdGVBbmRTYXZlQ2hlY2tUb0FycmF5LnRzIiwid2VicGFjazovL290dXNfYmFzZV90cy8uL3NyYy90eXBlcy9SZXN1bHRDaGVjay50cyIsIndlYnBhY2s6Ly9vdHVzX2Jhc2VfdHMvLi9zcmMvR2V0Q2hlY2tzQnlEYXRlUmFuZ2UudHMiLCJ3ZWJwYWNrOi8vb3R1c19iYXNlX3RzLy4vc3JjL1JhdGVDaGVja3NCeUNvbmRpdGlvbnMudHMiLCJ3ZWJwYWNrOi8vb3R1c19iYXNlX3RzLy4vc3JjL1NvcnRDYXRlZ29yeUJ5QW1vdW50LnRzIiwid2VicGFjazovL290dXNfYmFzZV90cy8uL3NyYy9EcmF3QXBwLnRzIiwid2VicGFjazovL290dXNfYmFzZV90cy8uL3NyYy9zY3JpcHQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIENoZWNre1xuICBkYXRlOiBudW1iZXIgPSBEYXRlLm5vdygpO1xuXG4gIGNhdGVnb3J5OiBzdHJpbmcgPSBcIlwiO1xuXG4gIHN1YmNhdGVnb3J5IDogc3RyaW5nID0gXCJcIjtcblxuICBkZXNjcmlwdGlvbjogc3RyaW5nID0gXCJcIjtcbiAgXG4gIGFtb3VudDogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBkYXRlOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgY2F0ZWdvcnk6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgICBzdWJjYXRlZ29yeTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgYW1vdW50OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgKSB7XG4gICAgaWYoZGF0ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgdGhpcy5kYXRlID0gRGF0ZS5wYXJzZShkYXRlKTtcbiAgICBpZihjYXRlZ29yeSAhPT0gdW5kZWZpbmVkKVxuICAgICAgdGhpcy5jYXRlZ29yeSA9IGNhdGVnb3J5O1xuICAgIGlmKHN1YmNhdGVnb3J5ICE9PSB1bmRlZmluZWQpXG4gICAgICB0aGlzLnN1YmNhdGVnb3J5ID0gc3ViY2F0ZWdvcnk7XG4gICAgaWYoZGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICBpZihhbW91bnQgIT09IHVuZGVmaW5lZClcbiAgICAgIHRoaXMuYW1vdW50ID0gTnVtYmVyKGFtb3VudCk7XG4gIH1cbn0iLCJpbXBvcnQgeyBDaGVjayB9IGZyb20gXCIuL3R5cGVzL0NoZWNrXCI7XG5cbmV4cG9ydCBjb25zdCBjaGVja0FycmF5OiBBcnJheTxDaGVjaz4gPSBbXTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUFuZFNhdmVDaGVja1RvQXJyYXkgPSAoKSA9PiB7XG4gIGNvbnN0IGRhdGVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGF0ZUlucHV0XCIpPy5pbm5lckhUTUw7XG4gIGNvbnN0IGNhdGVnb3J5SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhdGVnb3J5SW5wdXRcIik/LmlubmVySFRNTDtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgY29uc3Qgc3ViY2F0ZWdvcnlJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3ViY2F0ZWdvcnlJbnB1dFwiKT8uaW5uZXJIVE1MO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gIGNvbnN0IGRlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uSW5wdXRcIik/LmlubmVySFRNTDtcbiAgY29uc3QgYW1vdW50SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFtb3VudElucHV0XCIpPy5pbm5lckhUTUw7XG4gIFxuICBjb25zdCBuZXdFeHBlbmRpdHVyZSA9IG5ldyBDaGVjayhcbiAgICBkYXRlSW5wdXQsXG4gICAgY2F0ZWdvcnlJbnB1dCxcbiAgICBzdWJjYXRlZ29yeUlucHV0LFxuICAgIGRlc2NyaXB0aW9uSW5wdXQsXG4gICAgYW1vdW50SW5wdXRcbiAgKTtcbiAgY2hlY2tBcnJheS5wdXNoKG5ld0V4cGVuZGl0dXJlKTtcbn0iLCJleHBvcnQgY2xhc3MgUmVzdWx0Q2hlY2sge1xuICBkYXRlOiBudW1iZXI7XG5cbiAgY2F0ZWdvcnk6IHN0cmluZyA9IFwiXCI7XG5cbiAgYW1vdW50OiBudW1iZXIgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGRhdGU6IG51bWJlcixcbiAgICBjYXRlZ29yeTogc3RyaW5nLFxuICAgIGFtb3VudDogbnVtYmVyXG4gICkge1xuICAgIHRoaXMuZGF0ZSA9IGRhdGU7XG4gICAgdGhpcy5hbW91bnQgPSBhbW91bnQ7XG4gICAgdGhpcy5jYXRlZ29yeSA9IGNhdGVnb3J5O1xuICB9XG59IiwiaW1wb3J0IHsgY2hlY2tBcnJheSB9IGZyb20gXCIuL0NyZWF0ZUFuZFNhdmVDaGVja1RvQXJyYXlcIlxuaW1wb3J0IHsgUmVzdWx0Q2hlY2sgfSBmcm9tIFwiLi90eXBlcy9SZXN1bHRDaGVja1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2hlY2tzQnlEYXRlUmFuZ2UoKTogQXJyYXk8UmVzdWx0Q2hlY2s+IHtcbiAgY29uc3QgZGF0ZVN0YXJ0RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVTdGFydElucHV0XCIpPy5pbm5lckhUTUw7XG4gIGNvbnN0IGRhdGVFbmRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGF0ZUVuZElucHV0XCIpPy5pbm5lckhUTUw7XG4gIGNvbnN0IHJlc3VsdEFycmF5OiBBcnJheTxSZXN1bHRDaGVjaz4gPSBbXTtcbiAgXG4gIGlmKGRhdGVTdGFydEVsICE9PSB1bmRlZmluZWQgJiYgZGF0ZUVuZEVsICE9PSB1bmRlZmluZWQpe1xuICAgIGNvbnN0IGRhdGVTdGFydCA9IERhdGUucGFyc2UoZGF0ZVN0YXJ0RWwpO1xuICAgIGNvbnN0IGRhdGVFbmQgPSBEYXRlLnBhcnNlKGRhdGVFbmRFbCk7XG5cbiAgICBjaGVja0FycmF5LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLmRhdGUgPj0gZGF0ZVN0YXJ0ICYmIGl0ZW0uZGF0ZSA8PSBkYXRlRW5kKSB7XG4gICAgICAgIHJlc3VsdEFycmF5LnB1c2gobmV3IFJlc3VsdENoZWNrKFxuICAgICAgICAgIGl0ZW0uZGF0ZSxcbiAgICAgICAgICBpdGVtLmNhdGVnb3J5LFxuICAgICAgICAgIGl0ZW0uYW1vdW50XG4gICAgICAgICkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHRBcnJheTtcbn0iLCJpbXBvcnQgeyBSZXN1bHRDaGVjayB9IGZyb20gXCIuL3R5cGVzL1Jlc3VsdENoZWNrXCI7XG5pbXBvcnQgeyBnZXRDaGVja3NCeURhdGVSYW5nZSB9IGZyb20gXCIuL0dldENoZWNrc0J5RGF0ZVJhbmdlXCJcblxuZXhwb3J0IGZ1bmN0aW9uIHJhdGVDaGVja3NCeUNvbmRpdGlvbnMoZXZlbnQ6IEV2ZW50KSB7XG4gIGNvbnN0IGVsZW1lbnRJZCA9IChldmVudC50YXJnZXQgYXMgRWxlbWVudCkuaWQ7XG4gIGNvbnN0IHJlc3VsdEFycmF5OiBBcnJheTxSZXN1bHRDaGVjaz4gPSBbXTtcbiAgbGV0IGNoZWNrc0J5RGF0ZVJhbmdlID0gZ2V0Q2hlY2tzQnlEYXRlUmFuZ2UoKTtcbiAgXG4gIGlmKGNoZWNrc0J5RGF0ZVJhbmdlLmxlbmd0aCA+IDApe1xuICAgIGNoZWNrc0J5RGF0ZVJhbmdlLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIFxuICAgICAgY29uc3QgYW1vdW50c0FycmF5ID0gY2hlY2tzQnlEYXRlUmFuZ2UuZmlsdGVyKChpdGVtMSkgPT5cbiAgICAgICAgICAoZWxlbWVudElkID09PSBcInN1Ym1pdFJhdGVCeURhdGVCdG5cIiAmJiBpdGVtMS5kYXRlID09PSBpdGVtLmRhdGUpIHx8XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgICAoZWxlbWVudElkID09PSBcInN1Ym1pdFJhdGVCeURhdGVBbmRDYXRlZ29yeUJ0blwiICYmIGl0ZW0xLmNhdGVnb3J5ID09PSBpdGVtLmNhdGVnb3J5KVxuICAgICAgICApLm1hcCgoaXRlbTEpID0+IGl0ZW0xLmFtb3VudCk7XG4gICAgICAgIFxuICAgICAgXG4gICAgICBjaGVja3NCeURhdGVSYW5nZSA9IGNoZWNrc0J5RGF0ZVJhbmdlLmZpbHRlcigoaXRlbTEpID0+IFxuICAgICAgICAoZWxlbWVudElkID09PSBcInN1Ym1pdFJhdGVCeURhdGVCdG5cIiAmJiBpdGVtMS5kYXRlICE9PSBpdGVtLmRhdGUpIHx8XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgIChlbGVtZW50SWQgPT09IFwic3VibWl0UmF0ZUJ5RGF0ZUFuZENhdGVnb3J5QnRuXCIgJiYgaXRlbTEuY2F0ZWdvcnkgIT09IGl0ZW0uY2F0ZWdvcnkpXG4gICAgICApO1xuICAgICAgICBcblxuICAgICAgY29uc3QgaW5pdGlhbFZhbHVlID0gMDtcbiAgICAgIGNvbnN0IHN1bVdpdGhJbml0aWFsID0gYW1vdW50c0FycmF5LnJlZHVjZShcbiAgICAgICAgKGFjY3VtdWxhdG9yLCBjdXJyZW50VmFsdWUpID0+IGFjY3VtdWxhdG9yICsgY3VycmVudFZhbHVlLFxuICAgICAgICBpbml0aWFsVmFsdWUsXG4gICAgICApO1xuXG4gICAgICBpZihlbGVtZW50SWQgPT09IFwic3VibWl0UmF0ZUJ5RGF0ZUJ0blwiKVxuICAgICAgICByZXN1bHRBcnJheS5wdXNoKG5ldyBSZXN1bHRDaGVjayhpdGVtLmRhdGUsIFwiXCIsIHN1bVdpdGhJbml0aWFsKSk7XG4gICAgICBpZihlbGVtZW50SWQgPT09IFwic3VibWl0UmF0ZUJ5RGF0ZUFuZENhdGVnb3J5QnRuXCIpXG4gICAgICAgIHJlc3VsdEFycmF5LnB1c2gobmV3IFJlc3VsdENoZWNrKDAsIGl0ZW0uY2F0ZWdvcnksIHN1bVdpdGhJbml0aWFsKSk7XG4gICAgICBcbiAgICB9KTsgICAgIFxuICB9XG59IiwiaW1wb3J0IHsgUmVzdWx0Q2hlY2sgfSBmcm9tIFwiLi90eXBlcy9SZXN1bHRDaGVja1wiO1xuaW1wb3J0IHsgZ2V0Q2hlY2tzQnlEYXRlUmFuZ2UgfSBmcm9tIFwiLi9HZXRDaGVja3NCeURhdGVSYW5nZVwiXG5cbmV4cG9ydCBmdW5jdGlvbiBzb3J0Q2F0ZWdvcnlCeUFtb3VudChldmVudDogRXZlbnQpIHtcbiAgY29uc3QgZWxlbWVudElkID0gKGV2ZW50LnRhcmdldCBhcyBFbGVtZW50KS5pZDtcbiAgY29uc3QgcmVzdWx0QXJyYXk6IEFycmF5PFJlc3VsdENoZWNrPiA9IFtdO1xuICBsZXQgY2hlY2tzQnlEYXRlUmFuZ2UgPSBnZXRDaGVja3NCeURhdGVSYW5nZSgpO1xuICBcbiAgaWYoY2hlY2tzQnlEYXRlUmFuZ2UubGVuZ3RoID4gMCl7XG4gICAgY2hlY2tzQnlEYXRlUmFuZ2UuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgXG4gICAgICBcbiAgICAgIGNvbnN0IGFtb3VudHNBcnJheSA9IGNoZWNrc0J5RGF0ZVJhbmdlLmZpbHRlcigoaXRlbTEpID0+XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgICAoZWxlbWVudElkID09PSBcInNvcnRDYXRlZ29yeUJ5QW1vdW50XCIgJiYgaXRlbTEuY2F0ZWdvcnkgPT09IGl0ZW0uY2F0ZWdvcnkpXG4gICAgICAgICkubWFwKChpdGVtMSkgPT4gaXRlbTEuYW1vdW50KTtcbiAgICAgICAgXG4gICAgICBcbiAgICAgIGNoZWNrc0J5RGF0ZVJhbmdlID0gY2hlY2tzQnlEYXRlUmFuZ2UuZmlsdGVyKChpdGVtMSkgPT4gXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgIChlbGVtZW50SWQgPT09IFwic29ydENhdGVnb3J5QnlBbW91bnRcIiAmJiBpdGVtMS5jYXRlZ29yeSAhPT0gaXRlbS5jYXRlZ29yeSlcbiAgICAgICk7XG4gICAgICAgIFxuXG4gICAgICBjb25zdCBpbml0aWFsVmFsdWUgPSAwO1xuICAgICAgY29uc3Qgc3VtV2l0aEluaXRpYWwgPSBhbW91bnRzQXJyYXkucmVkdWNlKFxuICAgICAgICAoYWNjdW11bGF0b3IsIGN1cnJlbnRWYWx1ZSkgPT4gYWNjdW11bGF0b3IgKyBjdXJyZW50VmFsdWUsXG4gICAgICAgIGluaXRpYWxWYWx1ZSxcbiAgICAgICk7XG5cbiAgICAgIHJlc3VsdEFycmF5LnB1c2gobmV3IFJlc3VsdENoZWNrKDAsIGl0ZW0uY2F0ZWdvcnksIHN1bVdpdGhJbml0aWFsKSk7XG4gICAgICByZXN1bHRBcnJheS5zb3J0KChhLCBiKSA9PiBhLmFtb3VudCA+IGIuYW1vdW50ID8gLTEgOiAxKTtcbiAgICB9KTtcbiAgfVxufSIsImltcG9ydCB7IGNyZWF0ZUFuZFNhdmVDaGVja1RvQXJyYXkgfSBmcm9tIFwiLi9DcmVhdGVBbmRTYXZlQ2hlY2tUb0FycmF5XCI7XG5pbXBvcnQgeyByYXRlQ2hlY2tzQnlDb25kaXRpb25zIH0gZnJvbSBcIi4vUmF0ZUNoZWNrc0J5Q29uZGl0aW9uc1wiXG5pbXBvcnQgeyBzb3J0Q2F0ZWdvcnlCeUFtb3VudCB9IGZyb20gXCIuL1NvcnRDYXRlZ29yeUJ5QW1vdW50XCJcblxuY29uc3QgZ2l2ZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdpdmVuXCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gZHJhd0FwcCgpe1xuICBjb25zdCBleHBlbmRpdHVyZUZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgY29uc3QgZGF0ZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBkYXRlSW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImRhdGVcIik7XG4gIGRhdGVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImRhdGVJbnB1dFwiKTtcblxuICBjb25zdCBjYXRlZ29yeUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBjYXRlZ29yeUlucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICBjYXRlZ29yeUlucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiY2F0ZWdvcnlJbnB1dFwiKTtcblxuICBjb25zdCBzdWJjYXRlZ29yeUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBzdWJjYXRlZ29yeUlucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICBzdWJjYXRlZ29yeUlucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwic3ViY2F0ZWdvcnlJbnB1dFwiKTtcblxuXG4gIGNvbnN0IGRlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gIGRlc2NyaXB0aW9uSW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gIGRlc2NyaXB0aW9uSW5wdXQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJkZXNjcmlwdGlvbklucHV0XCIpO1xuXG4gIGNvbnN0IGFtb3VudElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBhbW91bnRJbnB1dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgYW1vdW50SW5wdXQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJhbW91bnRJbnB1dFwiKTtcblxuICBjb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBzdWJtaXRCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInN1Ym1pdFwiKTtcbiAgc3VibWl0QnRuLnNldEF0dHJpYnV0ZShcImlkXCIsIFwic3VibWl0RXhwZW5kaXR1cmVGb3JtXCIpO1xuICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjcmVhdGVBbmRTYXZlQ2hlY2tUb0FycmF5KTtcblxuICBleHBlbmRpdHVyZUZvcm0uYXBwZW5kQ2hpbGQoZGF0ZUlucHV0KTtcbiAgZXhwZW5kaXR1cmVGb3JtLmFwcGVuZENoaWxkKGNhdGVnb3J5SW5wdXQpO1xuICBleHBlbmRpdHVyZUZvcm0uYXBwZW5kQ2hpbGQoc3ViY2F0ZWdvcnlJbnB1dCk7XG4gIGV4cGVuZGl0dXJlRm9ybS5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbklucHV0KTtcbiAgZXhwZW5kaXR1cmVGb3JtLmFwcGVuZENoaWxkKGFtb3VudElucHV0KTtcbiAgZXhwZW5kaXR1cmVGb3JtLmFwcGVuZENoaWxkKHN1Ym1pdEJ0bik7XG5cbiAgY29uc3QgcmVzdWx0Rm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO1xuICBjb25zdCBkYXRlU3RhcnRJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgZGF0ZVN0YXJ0SW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImRhdGVcIik7XG4gIGRhdGVTdGFydElucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZGF0ZVN0YXJ0SW5wdXRcIik7XG5cbiAgY29uc3QgZGF0ZUVuZElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBkYXRlRW5kSW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImRhdGVcIik7XG4gIGRhdGVFbmRJbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImRhdGVFbmRJbnB1dFwiKTtcblxuICBjb25zdCBzdWJtaXRSYXRlQnlEYXRlQW5kQ2F0ZWdvcnlCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBzdWJtaXRCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInN1Ym1pdFwiKTtcbiAgc3VibWl0QnRuLnNldEF0dHJpYnV0ZShcImlkXCIsIFwic3VibWl0UmF0ZUJ5RGF0ZUFuZENhdGVnb3J5QnRuXCIpO1xuICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByYXRlQ2hlY2tzQnlDb25kaXRpb25zKTtcblxuXG4gIGNvbnN0IHN1Ym1pdFJhdGVCeURhdGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBzdWJtaXRCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInN1Ym1pdFwiKTtcbiAgc3VibWl0QnRuLnNldEF0dHJpYnV0ZShcImlkXCIsIFwic3VibWl0UmF0ZUJ5RGF0ZUJ0blwiKTtcbiAgc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmF0ZUNoZWNrc0J5Q29uZGl0aW9ucyk7XG5cbiAgY29uc3Qgc3VibWl0U29ydENhdGVnb3J5QnlBbW91bnRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBzdWJtaXRCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInN1Ym1pdFwiKTtcbiAgc3VibWl0QnRuLnNldEF0dHJpYnV0ZShcImlkXCIsIFwic3VibWl0U29ydENhdGVnb3J5QnlBbW91bnRCdG5cIik7XG4gIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNvcnRDYXRlZ29yeUJ5QW1vdW50KTtcblxuICByZXN1bHRGb3JtLmFwcGVuZENoaWxkKGRhdGVTdGFydElucHV0KTtcbiAgcmVzdWx0Rm9ybS5hcHBlbmRDaGlsZChkYXRlRW5kSW5wdXQpO1xuICByZXN1bHRGb3JtLmFwcGVuZENoaWxkKHN1Ym1pdFJhdGVCeURhdGVBbmRDYXRlZ29yeUJ0bik7XG4gIHJlc3VsdEZvcm0uYXBwZW5kQ2hpbGQoc3VibWl0UmF0ZUJ5RGF0ZUJ0bik7XG4gIHJlc3VsdEZvcm0uYXBwZW5kQ2hpbGQoc3VibWl0U29ydENhdGVnb3J5QnlBbW91bnRCdG4pO1xuXG4gIGdpdmVuPy5hcHBlbmRDaGlsZChleHBlbmRpdHVyZUZvcm0pO1xuICBnaXZlbj8uYXBwZW5kQ2hpbGQocmVzdWx0Rm9ybSk7XG59IiwiaW1wb3J0IHsgZHJhd0FwcCB9IGZyb20gXCIuL0RyYXdBcHBcIjtcblxuZHJhd0FwcCgpIl0sIm5hbWVzIjpbIkNoZWNrIiwiZGF0ZSIsIkRhdGUiLCJub3ciLCJjYXRlZ29yeSIsInN1YmNhdGVnb3J5IiwiZGVzY3JpcHRpb24iLCJhbW91bnQiLCJjb25zdHJ1Y3RvciIsInVuZGVmaW5lZCIsInRoaXMiLCJwYXJzZSIsIk51bWJlciIsImNoZWNrQXJyYXkiLCJjcmVhdGVBbmRTYXZlQ2hlY2tUb0FycmF5IiwiZGF0ZUlucHV0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsImNhdGVnb3J5SW5wdXQiLCJzdWJjYXRlZ29yeUlucHV0IiwiZGVzY3JpcHRpb25JbnB1dCIsImFtb3VudElucHV0IiwibmV3RXhwZW5kaXR1cmUiLCJwdXNoIiwiUmVzdWx0Q2hlY2siLCJnZXRDaGVja3NCeURhdGVSYW5nZSIsImRhdGVTdGFydEVsIiwiZGF0ZUVuZEVsIiwicmVzdWx0QXJyYXkiLCJkYXRlU3RhcnQiLCJkYXRlRW5kIiwiZm9yRWFjaCIsIml0ZW0iLCJyYXRlQ2hlY2tzQnlDb25kaXRpb25zIiwiZXZlbnQiLCJlbGVtZW50SWQiLCJ0YXJnZXQiLCJpZCIsImNoZWNrc0J5RGF0ZVJhbmdlIiwibGVuZ3RoIiwiYW1vdW50c0FycmF5IiwiZmlsdGVyIiwiaXRlbTEiLCJtYXAiLCJzdW1XaXRoSW5pdGlhbCIsInJlZHVjZSIsImFjY3VtdWxhdG9yIiwiY3VycmVudFZhbHVlIiwic29ydENhdGVnb3J5QnlBbW91bnQiLCJzb3J0IiwiYSIsImIiLCJnaXZlbiIsImV4cGVuZGl0dXJlRm9ybSIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJzdWJtaXRCdG4iLCJhZGRFdmVudExpc3RlbmVyIiwiYXBwZW5kQ2hpbGQiLCJyZXN1bHRGb3JtIiwiZGF0ZVN0YXJ0SW5wdXQiLCJkYXRlRW5kSW5wdXQiLCJzdWJtaXRSYXRlQnlEYXRlQW5kQ2F0ZWdvcnlCdG4iLCJzdWJtaXRSYXRlQnlEYXRlQnRuIiwic3VibWl0U29ydENhdGVnb3J5QnlBbW91bnRCdG4iLCJkcmF3QXBwIl0sInNvdXJjZVJvb3QiOiIifQ==